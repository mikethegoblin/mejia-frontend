(self.webpackChunkmutual_aid_site=self.webpackChunkmutual_aid_site||[]).push([[441],{862:function(e,t,n){var r=n(8).default;function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}e.exports=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var s=i?Object.getOwnPropertyDescriptor(e,l):null;s&&(s.get||s.set)?Object.defineProperty(a,l,s):a[l]=e[l]}return a.default=e,n&&n.set(e,a),a},e.exports.default=e.exports,e.exports.__esModule=!0},1044:function(e,t,n){"use strict";n.r(t),n.d(t,{capitalize:function(){return r.Z},createChainedFunction:function(){return o.Z},createSvgIcon:function(){return a.Z},debounce:function(){return i.Z},deprecatedPropType:function(){return l},isMuiElement:function(){return s.Z},ownerDocument:function(){return c.Z},ownerWindow:function(){return u.Z},requirePropFactory:function(){return d},setRef:function(){return p.Z},unstable_useId:function(){return v},unsupportedProp:function(){return h},useControlled:function(){return m.Z},useEventCallback:function(){return f.Z},useForkRef:function(){return g.Z},useIsFocusVisible:function(){return b.Z}});var r=n(1664),o=n(8231),a=n(9123),i=n(1510);function l(e,t){return function(){return null}}var s=n(1008),c=n(703),u=n(7811);function d(e){return function(){return null}}var p=n(1474);function h(e,t,n,r,o){return null}var m=n(2933),f=n(7544),g=n(1291),y=n(7294);function v(e){var t=y.useState(e),n=t[0],r=t[1],o=e||n;return y.useEffect((function(){null==n&&r("mui-".concat(Math.round(1e5*Math.random())))}),[n]),o}var b=n(4095)},6993:function(e,t,n){"use strict";var r=n(5318),o=n(862);t.Z=void 0;var a=o(n(7294)),i=(0,r(n(8786)).default)(a.createElement("path",{d:"M12 8l-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"}),"ExpandLess");t.Z=i},7739:function(e,t,n){"use strict";var r=n(5318),o=n(862);t.Z=void 0;var a=o(n(7294)),i=(0,r(n(8786)).default)(a.createElement("path",{d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore");t.Z=i},8786:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=n(1044)},7810:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return X}});var r=n(5861),o=n(7326),a=n(4578),i=n(7757),l=n.n(i),s=n(7294),c=n(6633),u=n.n(c);function d(e,t,n){void 0===n&&(n={});var r={type:"Feature"};return(0===n.id||n.id)&&(r.id=n.id),n.bbox&&(r.bbox=n.bbox),r.properties=t||{},r.geometry=e,r}function p(e,t,n){if(void 0===n&&(n={}),!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!h(e[0])||!h(e[1]))throw new Error("coordinates must contain numbers");return d({type:"Point",coordinates:e},t,n)}function h(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}function m(e,t,n){if(null!==e)for(var r,o,a,i,l,s,c,u,d=0,p=0,h=e.type,f="FeatureCollection"===h,g="Feature"===h,y=f?e.features.length:1,v=0;v<y;v++){l=(u=!!(c=f?e.features[v].geometry:g?e.geometry:e)&&"GeometryCollection"===c.type)?c.geometries.length:1;for(var b=0;b<l;b++){var E=0,Z=0;if(null!==(i=u?c.geometries[b]:c)){s=i.coordinates;var w=i.type;switch(d=!n||"Polygon"!==w&&"MultiPolygon"!==w?0:1,w){case null:break;case"Point":if(!1===t(s,p,v,E,Z))return!1;p++,E++;break;case"LineString":case"MultiPoint":for(r=0;r<s.length;r++){if(!1===t(s[r],p,v,E,Z))return!1;p++,"MultiPoint"===w&&E++}"LineString"===w&&E++;break;case"Polygon":case"MultiLineString":for(r=0;r<s.length;r++){for(o=0;o<s[r].length-d;o++){if(!1===t(s[r][o],p,v,E,Z))return!1;p++}"MultiLineString"===w&&E++,"Polygon"===w&&Z++}"Polygon"===w&&E++;break;case"MultiPolygon":for(r=0;r<s.length;r++){for(Z=0,o=0;o<s[r].length;o++){for(a=0;a<s[r][o].length-d;a++){if(!1===t(s[r][o][a],p,v,E,Z))return!1;p++}Z++}E++}break;case"GeometryCollection":for(r=0;r<i.geometries.length;r++)if(!1===m(i.geometries[r],t,n))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}var f=function(e,t){void 0===t&&(t={});var n=0,r=0,o=0;return m(e,(function(e){n+=e[0],r+=e[1],o++}),!0),p([n/o,r/o],t.properties)},g=n(6158),y=n.n(g),v=n(7462),b=n(5987),E=n(5505),Z=n(8063),w=n(4364),x=s.forwardRef((function(e,t){var n=e.classes,r=e.className,o=e.raised,a=void 0!==o&&o,i=(0,b.Z)(e,["classes","className","raised"]);return s.createElement(Z.Z,(0,v.Z)({className:(0,E.Z)(n.root,r),elevation:a?8:1,ref:t},i))})),N=(0,w.Z)({root:{overflow:"hidden"}},{name:"MuiCard"})(x),k=s.forwardRef((function(e,t){var n=e.classes,r=e.className,o=e.component,a=void 0===o?"div":o,i=(0,b.Z)(e,["classes","className","component"]);return s.createElement(a,(0,v.Z)({className:(0,E.Z)(n.root,r),ref:t},i))})),M=(0,w.Z)({root:{padding:16,"&:last-child":{paddingBottom:24}}},{name:"MuiCardContent"})(k),L=n(791),D=n(4381),P=n(1664),C={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p"},I=s.forwardRef((function(e,t){var n=e.align,r=void 0===n?"inherit":n,o=e.classes,a=e.className,i=e.color,l=void 0===i?"initial":i,c=e.component,u=e.display,d=void 0===u?"initial":u,p=e.gutterBottom,h=void 0!==p&&p,m=e.noWrap,f=void 0!==m&&m,g=e.paragraph,y=void 0!==g&&g,Z=e.variant,w=void 0===Z?"body1":Z,x=e.variantMapping,N=void 0===x?C:x,k=(0,b.Z)(e,["align","classes","className","color","component","display","gutterBottom","noWrap","paragraph","variant","variantMapping"]),M=c||(y?"p":N[w]||C[w])||"span";return s.createElement(M,(0,v.Z)({className:(0,E.Z)(o.root,a,"inherit"!==w&&o[w],"initial"!==l&&o["color".concat((0,P.Z)(l))],f&&o.noWrap,h&&o.gutterBottom,y&&o.paragraph,"inherit"!==r&&o["align".concat((0,P.Z)(r))],"initial"!==d&&o["display".concat((0,P.Z)(d))]),ref:t},k))})),T=(0,w.Z)((function(e){return{root:{margin:0},body2:e.typography.body2,body1:e.typography.body1,caption:e.typography.caption,button:e.typography.button,h1:e.typography.h1,h2:e.typography.h2,h3:e.typography.h3,h4:e.typography.h4,h5:e.typography.h5,h6:e.typography.h6,subtitle1:e.typography.subtitle1,subtitle2:e.typography.subtitle2,overline:e.typography.overline,srOnly:{position:"absolute",height:1,width:1,overflow:"hidden"},alignLeft:{textAlign:"left"},alignCenter:{textAlign:"center"},alignRight:{textAlign:"right"},alignJustify:{textAlign:"justify"},noWrap:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},gutterBottom:{marginBottom:"0.35em"},paragraph:{marginBottom:16},colorInherit:{color:"inherit"},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorTextPrimary:{color:e.palette.text.primary},colorTextSecondary:{color:e.palette.text.secondary},colorError:{color:e.palette.error.main},displayInline:{display:"inline"},displayBlock:{display:"block"}}}),{name:"MuiTypography"})(I),_=n(8582),S=s.forwardRef((function(e,t){var n=e.children,r=e.classes,o=e.className,a=e.disableTypography,i=void 0!==a&&a,l=e.inset,c=void 0!==l&&l,u=e.primary,d=e.primaryTypographyProps,p=e.secondary,h=e.secondaryTypographyProps,m=(0,b.Z)(e,["children","classes","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"]),f=s.useContext(_.Z).dense,g=null!=u?u:n;null==g||g.type===T||i||(g=s.createElement(T,(0,v.Z)({variant:f?"body2":"body1",className:r.primary,component:"span",display:"block"},d),g));var y=p;return null==y||y.type===T||i||(y=s.createElement(T,(0,v.Z)({variant:"body2",className:r.secondary,color:"textSecondary",display:"block"},h),y)),s.createElement("div",(0,v.Z)({className:(0,E.Z)(r.root,o,f&&r.dense,c&&r.inset,g&&y&&r.multiline),ref:t},m),g,y)})),z=(0,w.Z)({root:{flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},multiline:{marginTop:6,marginBottom:6},dense:{},inset:{paddingLeft:56},primary:{},secondary:{}},{name:"MuiListItemText"})(S),j=n(885),B=n(1423),A=n(381),O=n(9701),R=n(9355),W=n(1291),H=s.forwardRef((function(e,t){var n=e.children,r=e.classes,o=e.className,a=e.collapsedHeight,i=e.collapsedSize,l=void 0===i?"0px":i,c=e.component,u=void 0===c?"div":c,d=e.disableStrictModeCompat,p=void 0!==d&&d,h=e.in,m=e.onEnter,f=e.onEntered,g=e.onEntering,y=e.onExit,Z=e.onExited,w=e.onExiting,x=e.style,N=e.timeout,k=void 0===N?A.x9.standard:N,M=e.TransitionComponent,L=void 0===M?B.ZP:M,D=(0,b.Z)(e,["children","classes","className","collapsedHeight","collapsedSize","component","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),P=(0,R.Z)(),C=s.useRef(),I=s.useRef(null),T=s.useRef(),_="number"==typeof(a||l)?"".concat(a||l,"px"):a||l;s.useEffect((function(){return function(){clearTimeout(C.current)}}),[]);var S=P.unstable_strictMode&&!p,z=s.useRef(null),H=(0,W.Z)(t,S?z:void 0),F=function(e){return function(t,n){if(e){var r=S?[z.current,t]:[t,n],o=(0,j.Z)(r,2),a=o[0],i=o[1];void 0===i?e(a):e(a,i)}}},q=F((function(e,t){e.style.height=_,m&&m(e,t)})),G=F((function(e,t){var n=I.current?I.current.clientHeight:0,r=(0,O.C)({style:x,timeout:k},{mode:"enter"}).duration;if("auto"===k){var o=P.transitions.getAutoHeightDuration(n);e.style.transitionDuration="".concat(o,"ms"),T.current=o}else e.style.transitionDuration="string"==typeof r?r:"".concat(r,"ms");e.style.height="".concat(n,"px"),g&&g(e,t)})),Y=F((function(e,t){e.style.height="auto",f&&f(e,t)})),J=F((function(e){var t=I.current?I.current.clientHeight:0;e.style.height="".concat(t,"px"),y&&y(e)})),V=F(Z),U=F((function(e){var t=I.current?I.current.clientHeight:0,n=(0,O.C)({style:x,timeout:k},{mode:"exit"}).duration;if("auto"===k){var r=P.transitions.getAutoHeightDuration(t);e.style.transitionDuration="".concat(r,"ms"),T.current=r}else e.style.transitionDuration="string"==typeof n?n:"".concat(n,"ms");e.style.height=_,w&&w(e)}));return s.createElement(L,(0,v.Z)({in:h,onEnter:q,onEntered:Y,onEntering:G,onExit:J,onExited:V,onExiting:U,addEndListener:function(e,t){var n=S?e:t;"auto"===k&&(C.current=setTimeout(n,T.current||0))},nodeRef:S?z:void 0,timeout:"auto"===k?null:k},D),(function(e,t){return s.createElement(u,(0,v.Z)({className:(0,E.Z)(r.root,r.container,o,{entered:r.entered,exited:!h&&"0px"===_&&r.hidden}[e]),style:(0,v.Z)({minHeight:_},x),ref:H},t),s.createElement("div",{className:r.wrapper,ref:I},s.createElement("div",{className:r.wrapperInner},n)))}))}));H.muiSupportAuto=!0;var F=(0,w.Z)((function(e){return{root:{height:0,overflow:"hidden",transition:e.transitions.create("height")},entered:{height:"auto",overflow:"visible"},hidden:{visibility:"hidden"},wrapper:{display:"flex"},wrapperInner:{width:"100%"}}}),{name:"MuiCollapse"})(H),q=n(6993),G=n(7739),Y=n(8270),J=n(8337),V=n(1563),U=n.p+"static/julia1-10d24cd3303eec7e4895b7cf7862532e.jpg",$=n(3234);y().accessToken="pk.eyJ1IjoibWlrZXRoZWdvYmxpbiIsImEiOiJja3U4b2kyY2YycjNpMnZxZ3FlZng3eWZtIn0.0gysmE3YSP5DNs4Dkq3GVQ";var Q="https://ec2-3-90-219-3.compute-1.amazonaws.com:5000",X=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={organizationData:null,dataLoaded:!1,lng:-71.073,lat:42.319,zoom:11},n.updateInformation=n.updateInformation.bind((0,o.Z)(n)),n}(0,a.Z)(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=(0,r.Z)(l().mark((function e(){var t,n,r,o,a,i,s;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u().get(Q+"/listAllLocations");case 2:t=e.sent,n=t.data,r=this.state,o=r.lng,a=r.lat,i=r.zoom,(s=new(y().Map)({container:"map",style:"mapbox://styles/jkym2/ckni1o0zu06zh17qigui0dmuv",center:[o,a],zoom:i})).on("load",(function(){s.addSource("neighborhoods",{type:"geojson",data:J.Z}),s.addLayer({id:"neighborhoods-layer",type:"fill",source:"neighborhoods",layout:{},paint:{"fill-color":"#0080ff","fill-opacity":.5}}),s.addLayer({id:"outline",type:"line",source:"neighborhoods",layout:{},paint:{"line-color":"#000","line-width":3}});var e=new(y().Popup)({closeButton:!1,closeOnClick:!1});s.on("click","neighborhoods-layer",(function(t){var n=f(t.features[0]).geometry.coordinates,r=t.features[0].properties;for(document.getElementById("neighborhood-"+r.Neighborhood_ID).scrollIntoView(),document.getElementById("neighborhood-"+r.Neighborhood_ID).click(),s.flyTo({center:n,essential:!0,zoom:12.5});Math.abs(t.lngLat.lng-n[0])>180;)n[0]+=t.lngLat.lng>n[0]?360:-360;e.setLngLat(n).setHTML("<h3>"+r.Name+"</h3>").addTo(s)})),s.on("mouseenter","neighborhoods-layer",(function(t){s.getCanvas().style.cursor="pointer";for(var n=f(t.features[0]).geometry.coordinates,r=t.features[0].properties;Math.abs(t.lngLat.lng-n[0])>180;)n[0]+=t.lngLat.lng>n[0]?360:-360;e.setLngLat(n).setHTML("<h3>"+r.Name+"</h3>").addTo(s)})),s.on("mouseleave","neighborhoods-layer",(function(){s.getCanvas().style.cursor="",e.remove()}))})),this.setState({organizationData:n,dataLoaded:!0});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.updateInformation=function(){var e=(0,r.Z)(l().mark((function e(){var t,n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u().get(Q+"/listAllLocations");case 2:t=e.sent,n=t.data,this.setState({organizationData:n,dataLoaded:!0});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.render=function(){return s.createElement("div",{className:"main-container"},s.createElement("div",{className:"sidebar"},s.createElement("div",{className:"languageMenu",style:{display:"flex",flexDirection:"row"}},s.createElement($.default,null)),s.createElement("div",{className:"heading"},s.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-evenly",alignItems:"center"}},s.createElement("img",{className:"logo",src:U,style:{paddingRight:"20px"}}),s.createElement("h2",null,"Boston Mutual Aid")),s.createElement(V.default,{parentCallback:this.updateInformation})),s.createElement("div",{className:"neighborhoods"},!!this.state.dataLoaded&&s.createElement(K,{neighborhoodData:J.Z,orgData:this.state.organizationData}))),s.createElement("div",{className:"map",id:"map"}))},t}(s.Component);function K(e){var t=e.neighborhoodData,n=t.features.map((function(e){return e.properties.Name}));n.sort(),n.unshift("Boston-wide");var r=[];return n.forEach((function(n){if("Boston-wide"===n){var o=e.orgData.filter((function(e){return e.neighborhood.includes(n)})),a={Name:n,orgs:o};r.push(a)}else{var i=t.features.find((function(e){return e.properties.Name===n})).properties,l=e.orgData.filter((function(e){return e.neighborhood.includes(n)})),s={Name:n,Neighborhood_ID:i.Neighborhood_ID,orgs:l};r.push(s)}})),s.createElement(L.Z,{component:"div",className:"neighborhoods",id:"neighborhoods"},r.map((function(e){return s.createElement(ee,{key:"neighborhood-"+e.Neighborhood_ID,neighborhood:e,orgs:e.orgs})})))}function ee(e){var t=(0,Y.$)("translation").t,n=s.useState(!0),r=n[0],o=n[1];return s.createElement("div",null,s.createElement(D.Z,{button:!0,onClick:function(){o(!r)},id:"neighborhood-"+("Boston-wide"===e.neighborhood.Name?0:e.neighborhood.Neighborhood_ID)},s.createElement(z,null,s.createElement("h5",null,t(e.neighborhood.Name))),r?s.createElement(G.Z,null):s.createElement(q.Z,null)),s.createElement(F,{in:!r,timeout:"auto",unmountOnExit:!0},0!==e.orgs.length?e.orgs.map((function(t){return s.createElement(D.Z,{key:"org-"+t.id},s.createElement(te,{key:"org-"+t.name,neighborhood:e.neighborhood.Name,org:t}))})):s.createElement(D.Z,null,s.createElement(z,{secondary:"No organizations"}))))}function te(e){var t=e.org,n=(0,Y.$)("translation").t;return s.createElement(N,{className:"organization"},s.createElement(M,{className:"organization-info"},s.createElement("h5",null,t.name),s.createElement("p",null,n(e.neighborhood)),""!==t.email&&s.createElement("p",null,t.email),""!==t.phone&&s.createElement("p",null,t.phone)),s.createElement(M,{className:"organization-links"},"food"===t.tags[0]&&s.createElement("p",null,"Food"),""!==t.website&&s.createElement("a",{href:t.website},n("website")),""!==t.give_help&&s.createElement("a",{href:t.give_help},n("give_help")),""!==t.need_help&&s.createElement("a",{href:t.need_help},n("get_help"))))}}}]);
//# sourceMappingURL=425c4608fb358c9d99fdfdfe47aa9f63a6f3f6f6-b9ecf07fe60593e1871f.js.map